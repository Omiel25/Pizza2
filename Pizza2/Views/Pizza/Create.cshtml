@model AddMultipleModel<PizzaViewModel, int>

<h1>Create Pizza</h1>

<div class="container">
    <form asp-controller="Pizza" asp-action="CreatePizza" method="post">

        <div class="row">
            <div class="col">
                <label class="form-label mb-3">Pizza Name</label>
                <input asp-for=itemOne.PizzaName type="text" class="form-control" placeholder="ex.Carbonara" required/>
            </div>
        </div>
        
        <div class="row">
            <div class="col form-check form-check-inline">
                <p class="form-label mb-3"> Automaticly calculate pizza price? </p>

                <div class="form-check form-check-inline">
                    <input asp-for=itemTwo class="form-check-input auto-price" type="radio" id="inlineCheckbox" value="1">
                    <label class="form-check-label" for="inlineCheckbox1">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input asp-for=itemTwo class="form-check-input auto-price" type="radio" id="inlineCheckbox" value="0">
                    <label class="form-check-label" for="inlineCheckbox2">No</label>
                </div>
            </div>
        </div>

        <div class="row my-3">
            <span class="col-12">Pizza Price</span>
            <div class="input-group align-bottom">
                <input asp-for=itemTwoList type="number" class="form-control set-price" placeholder="19" required />
                <span class="align-text-bottom mt-auto">.</span>
                <input asp-for=itemTwoList type="number" class="form-control set-price" placeholder="99" required />
                <span class="px-1 align-text-bottom mt-auto">pln</span>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label class="form-label mb-3 my-3">Pizza Ingridients list ID</label>
                <select asp-for=itemOne.IngridientsListId class="form-select">
                    @{
                        foreach (var id in Model.itemTwoList)
                        {
                                                <option value="@id">@id</option>
                        }
                    }
                </select>
            </div>
        </div>

        <div class="row">
            <button type="submit" class="btn btn-primary my-2">Save</button>
        </div>

    </form>
</div>

<script>
    //Disable inputs used for setting price if Automatic Price option is selected
    var radioButtons = document.getElementsByClassName("auto-price");
    var priceInputs = document.getElementsByClassName("set-price");

    for (radio in radioButtons) {
        radioButtons[radio].onclick = function () {
            if (this.value == 1) {
                for (priceInput in priceInputs) {
                    priceInputs[priceInput].disabled = true;
                }
            } else {
                for (priceInput in priceInputs) {
                    priceInputs[priceInput].disabled = false;
                }
            }
        }
    }
</script>